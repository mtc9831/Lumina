var socket=io.connect('http://52.27.110.57:80'),fileType=0;
$(function(){socket.emit("loadextusers");socket.on("extusersfound",function(b){for(var d=["#","Name","Email","Interest"],c=[],a=0;a<b.length;a++)c[a]={},c[a][d[0]]=a+1,c[a][d[1]]="undefined"!==typeof b[a].first_name?b[a].first_name+" "+b[a].last_name:"",c[a][d[2]]=b[a].email,c[a][d[3]]=b[a].interest;var e=$("#tableOfUsers");e.jqGrid({datatype:"local",data:c,colNames:["#","Name","Email","Interest"],colModel:[{name:"#",index:"#",width:100,sorttype:"int"},{name:"Name",index:"Name",width:300,sorttype:"string"},
{name:"Email",index:"Email",width:300,key:!0,sorttype:"string"},{name:"Interest",index:"Interest",width:200,sorttype:"string"}],search:!0,pager:"#pager",jsonReader:{cell:""},rowNum:10,rowList:[5,10,20,50],sortname:"#",sortorder:"asc",viewrecords:!0,height:"100%",caption:"Table: List Of External Users"});e.jqGrid("navGrid","#pager",{add:!1,edit:!1,del:!1,search:!0,refresh:!0},{},{},{},{multipleSearch:!0,multipleGroup:!0,showQuery:!0});e.jqGrid("setGridParam",{ondblClickRow:function(a,b,c,d){var f=
e.jqGrid("getGridParam","selrow");alertify.confirm("Are you sure to delete the item? "+f,function(){socket.emit("deleteextuser",f);setTimeout(function(){window.location="externalUsers";window.location.reload()},100)},function(){})}})})});
