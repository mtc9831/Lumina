var NAME_FIELD_POS=0,EMAIL_FIELD_POS=1,CONTACT_FIELD_POS=2,USER_FIELD_POS=3,PASSWORD_FIELD_POS=4,AGREEMENT_FIELD_POS=5;
function AccountValidator(){this.formFields=[$("#name-tf"),$("#email-tf"),$("#contact-tf"),$("#user-tf"),$("#pass_id"),$("agreement")];this.controlGroups=[$("#name-cg"),$("#email-cg"),$("#contact-cg"),$("#user-cg"),$("#pass-cg"),$("#agreement-rg")];this.alert=$(".modal-form-errors");this.alert.modal({show:!1,keyboard:!0,backdrop:!0});this.validateName=function(a){return 3<=a.length};this.validatePassword=function(a){return $("#userId").val()&&""===a?!0:6<=a.length};this.validateEmail=function(a){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)};
this.validateContact=function(a){return/\d{4,15}/.test(a)};this.showErrors=function(a){$(".modal-form-errors .modal-body p").text("Please correct the following problems :");var b=$(".modal-form-errors .modal-body ul");b.empty();for(var c=0;c<a.length;c++)b.append("<li>"+a[c]+"</li>");this.alert.modal("show")}}AccountValidator.prototype.showInvalidEmail=function(){this.controlGroups[EMAIL_FIELD_POS].addClass("error");this.showErrors(["That email address is already in use."])};
AccountValidator.prototype.showInvalidUserName=function(){this.controlGroups[USER_FIELD_POS].addClass("error");this.showErrors(["That username is already in use."])};
AccountValidator.prototype.validateForm=function(){for(var a=[],b=0;b<this.controlGroups.length;b++)this.controlGroups[b].removeClass("error");0==this.validateName(this.formFields[NAME_FIELD_POS].val())&&(this.controlGroups[NAME_FIELD_POS].addClass("error"),a.push("Please Enter Your Name"));0==this.validateEmail(this.formFields[EMAIL_FIELD_POS].val())&&(this.controlGroups[EMAIL_FIELD_POS].addClass("error"),a.push("Please Enter A Valid Email"));0==this.validateContact(this.formFields[CONTACT_FIELD_POS].val())&&
(this.controlGroups[CONTACT_FIELD_POS].addClass("error"),a.push("Please Enter A Valid Contact No. (Only digits are accepted)"));0==this.validateName(this.formFields[USER_FIELD_POS].val())&&(this.controlGroups[USER_FIELD_POS].addClass("error"),a.push("Please Choose A Username"));0==this.validatePassword(this.formFields[PASSWORD_FIELD_POS].val())&&(this.controlGroups[PASSWORD_FIELD_POS].addClass("error"),a.push("Password Should Be At Least 6 Characters"));$("#agreement").prop("checked")||(this.controlGroups[AGREEMENT_FIELD_POS].addClass("error"),
a.push("Terms & conditions not agreed upon!"));a.length&&this.showErrors(a);return 0===a.length};
